\qecho Dylan Nelson
\qecho
\qecho #1
\qecho
SELECT Room.building, Room.roomnumber AS "roomNumber", 
	Meeting.starttime AS "startTime", 
	starttime + Meeting.duration AS "endTime"
FROM Room
	JOIN Meeting ON (Room.ID = Meeting.roomID)
WHERE room.building = 'A'
ORDER BY "startTime", "roomNumber";
\qecho
\qecho #2
\qecho
SELECT Room.building, Room.roomnumber, Meeting.purpose, 
	Meeting.starttime::date AS startdate,
	starttime::time AS starttime,
	starttime::time + Meeting.duration AS endtime
FROM Room
	JOIN Meeting ON (Room.ID = Meeting.roomID)
ORDER BY starttime, room.building, room.roomnumber;
\qecho
\qecho #3
\qecho
SELECT Room.building, Room.roomnumber AS "roomNumber", 
	COALESCE(Room.capacity::text, 'unknown') AS "numSeats"
FROM Room
ORDER BY room.building, "roomNumber";
\qecho
\qecho #4
\qecho
SELECT Room.building AS "Building",
	COUNT (*) AS "RoomsWithCapacity"
FROM Room
Where room.capacity is NOT NULL
GROUP BY "Building"
ORDER BY "Building";
\qecho
\qecho #5
\qecho
SELECT SUM(Room.capacity) AS "Total Known Seat Count"
FROM Room
WHERE room.capacity is NOT NULL;
\qecho
\qecho #6
\qecho
SELECT SUM(COALESCE(Room.capacity::int, 100)) AS "Total Seat Count"
FROM Room;
\qecho
\qecho #7
\qecho
SELECT Meeting.purpose, Meeting.starttime::date AS startdate, 
	starttime::time AS starttime
FROM Meeting
WHERE starttime::time >= '11:00:00' AND starttime::time <= '14:00:00';
\qecho
\qecho #8
\qecho
SELECT Meeting.purpose, Meeting.starttime::time AS starttime, 
	meeting.duration
FROM Meeting
WHERE starttime::time + duration > '16:00:00'
ORDER BY meeting.ID;
\qecho
\qecho #9
\qecho
SELECT Meeting.purpose, Meeting.starttime, Meeting.duration
FROM Meeting
WHERE starttime <= '2018-03-28 14:30:00'
	AND starttime + duration >= '2018-03-28 14:30:00'
ORDER BY meeting.starttime, meeting.id;
\qecho
\qecho #10
\qecho
SELECT DISTINCT Meeting.purpose FROM Meeting
WHERE meeting.moderatorID is NULL
ORDER BY meeting.purpose;
\qecho
\qecho #11
\qecho
SELECT DISTINCT Employee.employeenum, Employee.name 
FROM Employee
	JOIN Attendees ON (Employee.ID = Attendees.employeeID)
	JOIN Meeting ON (Attendees.meetingID = Meeting.ID)
WHERE starttime <= '2018-03-18 10:00:00'
	AND starttime + duration >= '2018-03-18 10:00:00'
ORDER BY employee.employeenum; 
\qecho
\qecho #12
\qecho
SELECT Employee.employeenum, Employee.name AS "employeeName",
	COUNT (*) AS "numMeetings"
FROM Employee
	JOIN Attendees ON (Employee.ID = Attendees.employeeID)
	JOIN Meeting ON (Attendees.meetingID = Meeting.ID)
WHERE starttime <= '2018-03-18 10:00:00'
	AND starttime + duration >= '2018-03-18 10:00:00'
GROUP BY employee.ID
HAVING COUNT (*) > 1
ORDER BY employee.employeenum;
\qecho
\qecho #13
\qecho
SELECT Employee.employeenum, Employee.name, 
	SUM(Meeting.duration) AS "totalDuration"
FROM Employee
	JOIN Attendees ON (Employee.ID = Attendees.employeeID)
	JOIN Meeting ON (Attendees.meetingID = Meeting.ID)
WHERE meeting.moderatorID IS NOT NULL
GROUP BY employee.ID
ORDER BY "totalDuration" DESC
LIMIT 1;
\qecho
\qecho #14
\qecho
SELECT DISTINCT Meeting.purpose, 
	AVG(Employee.salary) AS "Average Salary"
FROM Employee
	JOIN Attendees ON (Employee.ID = Attendees.employeeID)
	JOIN Meeting ON (Attendees.meetingID = Meeting.ID)
GROUP BY meeting.purpose
ORDER BY meeting.purpose;